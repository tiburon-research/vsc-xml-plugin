# Работа с GIT

## Версии

Название версии: `версия`.`минор`.`патч`

`Патч` — правки в текущую версию (что-то работает неправильно и это можно быстро поправить).  
`Минор` — новые фишки и большие исправления.  
`Версия` — принципиальные изменения в работе расширения.

- Для каждой новой минорной версии создаём отдельную ветку.
- Патч сразу в master.

## Перед публикацией

- Поменять значение константы `_pack` на `"release"`.
- Изменить номер версии в корневом `package.json`.
- Проверить, что в `CHANGELOG.md` внесены все **изменения** и правильно указана **версия** и **дата**.
- Проверить, что всё необходимое добавлено в `README.md`.


# Общее

## Начало работы

- Скачать репозиторий.
- Выполнить в нём `npm i` (возможно, после нужно будет перезапустить VSC).
- Запустить `npm run watch` (`ctrl`+`shift`+`b`) — фоновый build.
- Должно всплыть подтверждение того, что вы хотите автоматически запускать watch при открытии папки (надо согласиться).

## Структура

- Папка `client` — клиентская часть: простые действия, которые не требуют параллельного выполнения.
- Папка `server` — серверная часть: тяжёлые действия (парсинг), которые могут блокировать другие процессы (сохранение, подстановку шаблонов и т.д.).
- Папка `api` — общие элементы и интерфейсы взаимодействия между клиентом и сервером.
- Папка `snippets` — шаблоны кода.
- Папка `stuff` — материалы (иконки, картинки для readme).
- Папка `stuff/parsers` — удобные парсеры для получения разных autocomplete.
- Папка `themes` — темы.
- Папка `syntaxes` — файл `tib.tmLanguage.json` отвечает за сущности синтаксиса языка `tib`.
- Файл `language-configuration.json` — конфигурация (описание особых символов) языка.
- Файл `package.json` — полное описание расширения.
- Файл `tsconfig.json` — конфигурация компиляции typescript в javascript.
- Папка `.vscode` — содержит файлы конфигурации: `launch` — параметры запуска отладки, `settings` — настройки VSC для папки расширения, `tasks` — выполняемые задачи (команды).
