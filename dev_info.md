# Структура

- Папка `client` — клиентская часть: простые действия, которые не требуют параллельного выполнения.
- Папка `server` — серверная часть: тяжёлые действия (парсинг), которые могут блокировать другие процессы (сохранение, подстановку шаблонов и т.д.).
- Папка `api` — общие элементы и интерфейсы взаимодействия между клиентом и сервером.
- Папка `snippets` — шаблоны кода.
- Папка `stuff` — материалы (иконки, картинки для readme).
- Папка `stuff/parsers` — удобные парсеры для получения разных autocomplete.
- Папка `themes` — темы.
- Папка `syntaxes` — файл `tib.tmLanguage.json` отвечает за сущности синтаксиса языка `tib`.
- Файл `language-configuration.json` — конфигурация (описание особых символов) языка.
- Файл `package.json` — полное описание расширения.
- Файл `tsconfig.json` — конфигурация компиляции typescript в javascript.
- Папка `.vscode` — содержит файлы конфигурации: `launch` — параметры запуска отладки, `settings` — настройки VSC для папки расширения, `tasks` — выполняемые задачи (команды).


# Работа с версиями


## Версии

Название версии: `версия`.`минор`.`патч`

`Патч` — правки в текущую версию (что-то работает неправильно и это можно быстро поправить).  
`Минор` — новые фишки и большие исправления.  
`Версия` — принципиальные изменения в работе расширения.

- Для каждой новой минорной версии создаём отдельную ветку.
- Патч сразу в master.

## Перед публикацией

- Поменять значение константы `_pack` на `"release"`.
- Изменить номер версии в корневом `package.json`.
- Проверить, что в `CHANGELOG.md` внесены все **изменения** и правильно указана **версия** и **дата**.
- Проверить, что всё необходимое добавлено в `README.md`.

Данные для аутентификации лежат в `G:\Разное\TiburonXMLHelper\data.txt`

## Обновление token

- Заходим в https://dev.azure.com/TiburonResearch/_usersSettings/tokens
- Создаём новый токен:
  - ВАЖНО: Organization - `All accessible organizations`
  - ВАЖНО: `Full access`
  - на год
- в консоли: `vsce login TiburonResearch` и вводим этот token



# Команды

## начало работы

1) `npm i`
2) `npm run compile` и согласиться с тем, что при открытии папки будет постоянно следить.

## остальное

- принудительная пересборка всего: `npm run rebuild`
- сборка версии в пакет VSIX: `vsce package`
- публикация новой версии: `vsce publish`